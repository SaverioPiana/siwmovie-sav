<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
    <title>Movie</title>
</head>
<body>
<div><a href="/"><img src="/images/SIWDb_logo.png" width="15%"/></a></div>
<div th:unless="${movie}">Non esiste</div>
  <div th:if="${movie}">
  <h1 th:text="${movie.title}">Titolo film</h1>
      <div>Anno: <span th:text="'(' + ${movie.year} + ')'">2000</span></div>
      <div>Director: <a th:if="${movie.director}" th:href = "@{'/artist/' + ${movie.director.id}}" th:text="${movie.director.name} + ' ' + ${movie.director.surname}"></a>
          <span><a th:href="@{'/selectDirectorToMovie/' + ${movie.id}}">   Edit Director</a></span>
      </div>
      <span><img width="30%" th:src= "${movie.urlImage}"/></span>
      <div><h4>Actors:</h4><span><a th:href="@{'/selectActorsToMovie/' + ${movie.id}}">   Edit Actors</a></span></div>
      <div th:unless="not ${movie.actors} or ${movie.actors.isEmpty()}">
          <ul>
              <li th:each = "actor: ${movie.actors}">
                  <a th:href = "@{'/artist/' + ${actor.id}}"
                    th:text = "${actor.name} + ' ' + ${actor.surname}"></a>
              </li>
          </ul>
      </div>
  </div>
<a th:if="${userAuthDetails}" th:href="${'/registered/formNewReview/'+movie.getId()}">Add Review</a>
<div th:if="${movie.reviews}">
    <ul>
        <li th:each ="review : ${movie.reviews}">
            <div><strong  th:text="${review.title}+ '  '"></strong><span th:text="${review.score}+ '    '"></span>
                <span th:text="${review.getCreationDateTime()}"></span>
                <p th:text="${review.content}"></p>
                <div th:if="${review.author.equals(globalUser)}">
                    <a th:href="@{'/registered/removeOwnReview/'+ ${review.id}}">Remove Review</a>
                </div>
            </div>
        </li>
    </ul>
</div>
</body>
</html>